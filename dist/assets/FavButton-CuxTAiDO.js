var z=Object.defineProperty;var K=(t,o,e)=>o in t?z(t,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[o]=e;var A=(t,o,e)=>(K(t,typeof o!="symbol"?o+"":o,e),e);import{c as j,$ as V,w as q,r,l as Y,_ as T,x as U,y as X,z as Z,A as J,E as Q,o as W,n as ee,F as te,G as oe,h as ne,k as g,j as R,p as re,s as L,B as ae}from"./index-BCta2iwk.js";/**
 * @license lucide-react v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=j("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=j("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),[D,Le]=V("Tooltip",[q]),I=q(),se="TooltipProvider",ie=700,_="tooltip.open",[le,M]=D(se),ue=t=>{const{__scopeTooltip:o,delayDuration:e=ie,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:c}=t,[i,u]=r.useState(!0),s=r.useRef(!1),d=r.useRef(0);return r.useEffect(()=>{const l=d.current;return()=>window.clearTimeout(l)},[]),r.createElement(le,{scope:o,isOpenDelayed:i,delayDuration:e,onOpen:r.useCallback(()=>{window.clearTimeout(d.current),u(!1)},[]),onClose:r.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>u(!0),n)},[n]),isPointerInTransitRef:s,onPointerInTransitChange:r.useCallback(l=>{s.current=l},[]),disableHoverableContent:a},c)},F="Tooltip",[de,O]=D(F),fe=t=>{const{__scopeTooltip:o,children:e,open:n,defaultOpen:a=!1,onOpenChange:c,disableHoverableContent:i,delayDuration:u}=t,s=M(F,t.__scopeTooltip),d=I(o),[l,f]=r.useState(null),h=W(),p=r.useRef(0),$=i??s.disableHoverableContent,x=u??s.delayDuration,v=r.useRef(!1),[y=!1,m]=ee({prop:n,defaultProp:a,onChange:N=>{N?(s.onOpen(),document.dispatchEvent(new CustomEvent(_))):s.onClose(),c==null||c(N)}}),C=r.useMemo(()=>y?v.current?"delayed-open":"instant-open":"closed",[y]),E=r.useCallback(()=>{window.clearTimeout(p.current),v.current=!1,m(!0)},[m]),w=r.useCallback(()=>{window.clearTimeout(p.current),m(!1)},[m]),H=r.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{v.current=!0,m(!0)},x)},[x,m]);return r.useEffect(()=>()=>window.clearTimeout(p.current),[]),r.createElement(te,d,r.createElement(de,{scope:o,contentId:h,open:y,stateAttribute:C,trigger:l,onTriggerChange:f,onTriggerEnter:r.useCallback(()=>{s.isOpenDelayed?H():E()},[s.isOpenDelayed,H,E]),onTriggerLeave:r.useCallback(()=>{$?w():window.clearTimeout(p.current)},[w,$]),onOpen:E,onClose:w,disableHoverableContent:$},e))},S="TooltipTrigger",pe=r.forwardRef((t,o)=>{const{__scopeTooltip:e,...n}=t,a=O(S,e),c=M(S,e),i=I(e),u=r.useRef(null),s=U(o,u,a.onTriggerChange),d=r.useRef(!1),l=r.useRef(!1),f=r.useCallback(()=>d.current=!1,[]);return r.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),r.createElement(oe,T({asChild:!0},i),r.createElement(ne.button,T({"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute},n,{ref:s,onPointerMove:g(t.onPointerMove,h=>{h.pointerType!=="touch"&&!l.current&&!c.isPointerInTransitRef.current&&(a.onTriggerEnter(),l.current=!0)}),onPointerLeave:g(t.onPointerLeave,()=>{a.onTriggerLeave(),l.current=!1}),onPointerDown:g(t.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:g(t.onFocus,()=>{d.current||a.onOpen()}),onBlur:g(t.onBlur,a.onClose),onClick:g(t.onClick,a.onClose)})))}),$e="TooltipPortal",[_e,he]=D($e,{forceMount:void 0}),P="TooltipContent",ve=r.forwardRef((t,o)=>{const e=he(P,t.__scopeTooltip),{forceMount:n=e.forceMount,side:a="top",...c}=t,i=O(P,t.__scopeTooltip);return r.createElement(Y,{present:n||i.open},i.disableHoverableContent?r.createElement(G,T({side:a},c,{ref:o})):r.createElement(be,T({side:a},c,{ref:o})))}),be=r.forwardRef((t,o)=>{const e=O(P,t.__scopeTooltip),n=M(P,t.__scopeTooltip),a=r.useRef(null),c=U(o,a),[i,u]=r.useState(null),{trigger:s,onClose:d}=e,l=a.current,{onPointerInTransitChange:f}=n,h=r.useCallback(()=>{u(null),f(!1)},[f]),p=r.useCallback(($,x)=>{const v=$.currentTarget,y={x:$.clientX,y:$.clientY},m=me(y,v.getBoundingClientRect()),C=ye(y,m),E=ge(x.getBoundingClientRect()),w=Ce([...C,...E]);u(w),f(!0)},[f]);return r.useEffect(()=>()=>h(),[h]),r.useEffect(()=>{if(s&&l){const $=v=>p(v,l),x=v=>p(v,s);return s.addEventListener("pointerleave",$),l.addEventListener("pointerleave",x),()=>{s.removeEventListener("pointerleave",$),l.removeEventListener("pointerleave",x)}}},[s,l,p,h]),r.useEffect(()=>{if(i){const $=x=>{const v=x.target,y={x:x.clientX,y:x.clientY},m=(s==null?void 0:s.contains(v))||(l==null?void 0:l.contains(v)),C=!Te(y,i);m?h():C&&(h(),d())};return document.addEventListener("pointermove",$),()=>document.removeEventListener("pointermove",$)}},[s,l,i,d,h]),r.createElement(G,T({},t,{ref:c}))}),[xe,Ie]=D(F,{isInside:!1}),G=r.forwardRef((t,o)=>{const{__scopeTooltip:e,children:n,"aria-label":a,onEscapeKeyDown:c,onPointerDownOutside:i,...u}=t,s=O(P,e),d=I(e),{onClose:l}=s;return r.useEffect(()=>(document.addEventListener(_,l),()=>document.removeEventListener(_,l)),[l]),r.useEffect(()=>{if(s.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(s.trigger)&&l()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[s.trigger,l]),r.createElement(X,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:c,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:l},r.createElement(Z,T({"data-state":s.stateAttribute},d,u,{ref:o,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),r.createElement(J,null,n),r.createElement(xe,{scope:e,isInside:!0},r.createElement(Q,{id:s.contentId,role:"tooltip"},a||n))))});function me(t,o){const e=Math.abs(o.top-t.y),n=Math.abs(o.bottom-t.y),a=Math.abs(o.right-t.x),c=Math.abs(o.left-t.x);switch(Math.min(e,n,a,c)){case c:return"left";case a:return"right";case e:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function ye(t,o,e=5){const n=[];switch(o){case"top":n.push({x:t.x-e,y:t.y+e},{x:t.x+e,y:t.y+e});break;case"bottom":n.push({x:t.x-e,y:t.y-e},{x:t.x+e,y:t.y-e});break;case"left":n.push({x:t.x+e,y:t.y-e},{x:t.x+e,y:t.y+e});break;case"right":n.push({x:t.x-e,y:t.y-e},{x:t.x-e,y:t.y+e});break}return n}function ge(t){const{top:o,right:e,bottom:n,left:a}=t;return[{x:a,y:o},{x:e,y:o},{x:e,y:n},{x:a,y:n}]}function Te(t,o){const{x:e,y:n}=t;let a=!1;for(let c=0,i=o.length-1;c<o.length;i=c++){const u=o[c].x,s=o[c].y,d=o[i].x,l=o[i].y;s>n!=l>n&&e<(d-u)*(n-s)/(l-s)+u&&(a=!a)}return a}function Ce(t){const o=t.slice();return o.sort((e,n)=>e.x<n.x?-1:e.x>n.x?1:e.y<n.y?-1:e.y>n.y?1:0),Ee(o)}function Ee(t){if(t.length<=1)return t.slice();const o=[];for(let n=0;n<t.length;n++){const a=t[n];for(;o.length>=2;){const c=o[o.length-1],i=o[o.length-2];if((c.x-i.x)*(a.y-i.y)>=(c.y-i.y)*(a.x-i.x))o.pop();else break}o.push(a)}o.pop();const e=[];for(let n=t.length-1;n>=0;n--){const a=t[n];for(;e.length>=2;){const c=e[e.length-1],i=e[e.length-2];if((c.x-i.x)*(a.y-i.y)>=(c.y-i.y)*(a.x-i.x))e.pop();else break}e.push(a)}return e.pop(),o.length===1&&e.length===1&&o[0].x===e[0].x&&o[0].y===e[0].y?o:o.concat(e)}const we=ue,Pe=fe,Re=pe,B=ve,Me=we,Fe=Pe,He=Re,ke=r.forwardRef(({className:t,sideOffset:o=4,...e},n)=>R.jsx(B,{ref:n,sideOffset:o,className:re("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-xs text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));ke.displayName=B.displayName;function Ne(t){const[o,e]=r.useState("");r.useEffect(()=>{t.locale==="es-AR"&&e("$"),t.locale==="en-US"&&e("U$D")},[t.locale]);const n=new Intl.NumberFormat(t.locale,{style:"decimal",minimumFractionDigits:t.digits}).format(Number(t.value));return R.jsx("div",{className:t.className,children:o+" "+n})}const b=class b{static async findAll(){try{const o=L.getState().authToken,e=`${b.API_URL}/favorites`;return await(await fetch(e,{method:"GET",headers:{"content-type":"application/json;charset=UTF-8",Authorization:`Bearer ${o}`}})).json()}catch(o){return o}}static async findOne(o){try{const e=L.getState().authToken,n=`${b.API_URL}/favorites/${o}`;return await(await fetch(n,{method:"GET",headers:{"content-type":"application/json;charset=UTF-8",Authorization:`Bearer ${e}`}})).json()}catch(e){return e}}static async toggleFavorite(o){o.isFavorite=!o.isFavorite,b.abortController&&b.abortController.abort(),b.abortController=new AbortController;const e=b.abortController.signal;try{const n=L.getState().authToken;let a="",c="";return o.isFavorite===!1?(a=`${b.API_URL}/favorites/${o.id}`,c="DELETE"):(a=`${b.API_URL}/favorites/${o.id}`,c="POST"),await(await fetch(a,{method:c,signal:e,headers:{Authorization:`Bearer ${n}`}})).json()}catch(n){return n}}};A(b,"API_URL","http://localhost:4000/api"),A(b,"abortController",new AbortController);let k=b;function Se({property:t,height:o}){const[e,n]=r.useState(!1);r.useEffect(()=>{k.findOne(t.id).then(c=>{c.propertyId===t.id&&n(!0)})},[t.id]);function a(){k.toggleFavorite(t).then(c=>{c.statusCode===200&&n(!e)})}return R.jsx(ae,{variant:"ghost",className:"flex items-center p-0 hover:bg-transparent hover:cursor-pointer",onClick:a,asChild:!0,children:R.jsx(ce,{size:o,className:`transition-all
                     hover:stroke-red-500
                     ${e?"fill-red-500 stroke-red-500":"fill-none stroke-slate-500"}`})})}export{Ne as C,k as F,ce as H,Ae as M,Me as T,Se as a,Fe as b,He as c,ke as d};
