import{c as X,$ as Z,f as V,r as o,g as J,_ as p,h as w,i as Q,k as D,l as Y,m as ee,n as z,o as ae,j as e,p as k,q as se,u as te,B as m,s as S,R as A,t as x}from"./index-BCta2iwk.js";import{C as ie,a as re,b as ne,c as oe,d as de,e as ce}from"./card-x1ywVH_7.js";import{D as le,a as fe,b as be,c as ue,d as me,e as xe}from"./dialog-Cbf9pZRL.js";import{a as he,M as ve,C as ge,T as $,b as j,c as C,d as N}from"./FavButton-CuxTAiDO.js";import{P as _}from"./products.services-ClCANeLJ.js";import{u as pe}from"./useCapitalize-CH2_f9x0.js";import{C as $e,u as je}from"./useLocaleDate-D4D90Shb.js";import{T as M}from"./trash-2-Fv-IyTXX.js";import{P as F}from"./pencil-DLwvTUIk.js";import{C as Ce}from"./circle-check-big-Bq8s_kx7.js";import{B as Ne}from"./badge-x-BzcLBOcs.js";/**
 * @license lucide-react v0.376.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=X("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),L="Tabs",[Te,Qe]=Z(L,[V]),y=V(),[Ee,R]=Te(L),De=o.forwardRef((s,r)=>{const{__scopeTabs:n,value:d,onValueChange:c,defaultValue:b,orientation:i="horizontal",dir:l,activationMode:v="automatic",...g}=s,u=ee(l),[f,h]=z({prop:d,onChange:c,defaultProp:b});return o.createElement(Ee,{scope:n,baseId:ae(),value:f,onValueChange:h,orientation:i,dir:u,activationMode:v},o.createElement(w.div,p({dir:u,"data-orientation":i},g,{ref:r})))}),ke="TabsList",Pe=o.forwardRef((s,r)=>{const{__scopeTabs:n,loop:d=!0,...c}=s,b=R(ke,n),i=y(n);return o.createElement(J,p({asChild:!0},i,{orientation:b.orientation,dir:b.dir,loop:d}),o.createElement(w.div,p({role:"tablist","aria-orientation":b.orientation},c,{ref:r})))}),_e="TabsTrigger",Ie=o.forwardRef((s,r)=>{const{__scopeTabs:n,value:d,disabled:c=!1,...b}=s,i=R(_e,n),l=y(n),v=B(i.baseId,d),g=O(i.baseId,d),u=d===i.value;return o.createElement(Q,p({asChild:!0},l,{focusable:!c,active:u}),o.createElement(w.button,p({type:"button",role:"tab","aria-selected":u,"aria-controls":g,"data-state":u?"active":"inactive","data-disabled":c?"":void 0,disabled:c,id:v},b,{ref:r,onMouseDown:D(s.onMouseDown,f=>{!c&&f.button===0&&f.ctrlKey===!1?i.onValueChange(d):f.preventDefault()}),onKeyDown:D(s.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(d)}),onFocus:D(s.onFocus,()=>{const f=i.activationMode!=="manual";!u&&!c&&f&&i.onValueChange(d)})})))}),Re="TabsContent",Se=o.forwardRef((s,r)=>{const{__scopeTabs:n,value:d,forceMount:c,children:b,...i}=s,l=R(Re,n),v=B(l.baseId,d),g=O(l.baseId,d),u=d===l.value,f=o.useRef(u);return o.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),o.createElement(Y,{present:c||u},({present:h})=>o.createElement(w.div,p({"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":v,hidden:!h,id:g,tabIndex:0},i,{ref:r,style:{...s.style,animationDuration:f.current?"0s":void 0}}),h&&b))});function B(s,r){return`${s}-trigger-${r}`}function O(s,r){return`${s}-content-${r}`}const Ae=De,H=Pe,G=Ie,q=Se,Ye=Ae,Me=o.forwardRef(({className:s,...r},n)=>e.jsx(H,{ref:n,className:k("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...r}));Me.displayName=H.displayName;const Fe=o.forwardRef(({className:s,...r},n)=>e.jsx(G,{ref:n,className:k("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:",s),...r}));Fe.displayName=G.displayName;const Ve=o.forwardRef(({className:s,...r},n)=>e.jsx(q,{ref:n,className:k("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...r}));Ve.displayName=q.displayName;const ze=o.forwardRef((s,r)=>{const{pressed:n,defaultPressed:d=!1,onPressedChange:c,...b}=s,[i=!1,l]=z({prop:n,onChange:c,defaultProp:d});return o.createElement(w.button,p({type:"button","aria-pressed":i,"data-state":i?"on":"off","data-disabled":s.disabled?"":void 0},b,{ref:r,onClick:D(s.onClick,()=>{s.disabled||l(!i)})}))}),W=ze,Le=se("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),ye=o.forwardRef(({className:s,variant:r,size:n,...d},c)=>e.jsx(W,{ref:c,className:k(Le({variant:r,size:n,className:s})),...d}));ye.displayName=W.displayName;const I="/app";function ea({type:s,properties:r,getProducts:n}){const[d,c]=o.useState(""),[b,i]=o.useState(!1),[l,v]=o.useState({id:0,name:"",title:"",subtitle:"",message:e.jsx("span",{})}),g=pe(),u=je(),f=te();async function h(a){_.removeSoft(a).then(t=>{t.statusCode===200&&(x({title:t.statusCode,description:t.message,variant:"success",duration:5e3}),n()),t.statusCode>399&&x({title:t.statusCode,description:t.message,variant:"destructive",duration:5e3}),t instanceof Error&&x({title:"Error",description:"500 Internal Server Error | "+t.message,variant:"destructive",duration:5e3}),i(!1)})}async function K(a){_.restore(a).then(t=>{t.statusCode===200&&(x({title:t.statusCode,description:t.message,variant:"success",duration:5e3}),n()),t.statusCode>399&&x({title:t.statusCode,description:t.message,variant:"destructive",duration:5e3}),t instanceof Error&&x({title:"Error",description:"500 Internal Server Error | "+t.message,variant:"destructive",duration:5e3}),i(!1)})}async function U(a){_.remove(a).then(t=>{t.statusCode===200&&(x({title:t.statusCode,description:t.message,variant:"success",duration:5e3}),n()),t.statusCode>399&&x({title:t.statusCode,description:t.message,variant:"destructive",duration:5e3}),t instanceof Error&&x({title:"Error",description:"500 Internal Server Error | "+t.message,variant:"destructive",duration:5e3}),i(!1)})}function P(a,t){let T=!1,E="";t==="removeSoft"&&(E="Esta acción es posible de revertir por el administrador",T=e.jsxs(e.Fragment,{children:["La propiedad ",e.jsx("span",{className:"text-md font-bold text-slate-900",children:a.id<10?`COD/0${a.id}`:`COD/${a.id}`})," va a ser eliminada de la base de datos."]})),t==="remove"&&(E="Esta acción es imposible de revertir.",T=e.jsxs(e.Fragment,{children:["La propiedad ",e.jsx("span",{className:"text-md font-bold text-slate-900",children:a.id<10?`COD/0${a.id}`:`COD/${a.id}`})," va a ser eliminada permanentemente de la base de datos."]})),t==="restore"&&(E="Esta acción es posible de revertir por el administrador",T=e.jsxs(e.Fragment,{children:["La propiedad ",e.jsx("span",{className:"text-md font-bold text-slate-900",children:a.id<10?`COD/0${a.id}`:`COD/${a.id}`})," va a ser restaurada de la base de datos."]})),i(!0),v({id:Number(a.id),name:a.title,title:"¿Estás realmente seguro?",subtitle:E,message:T}),c(t)}return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:r.map(a=>{var t;return e.jsx("div",{className:"",children:e.jsxs(ie,{className:"relative overflow-hidden rounded-md border-t-[4px]",style:{borderTopColor:a.color},children:[a.deletedAt!==null&&e.jsx("div",{className:"absolute right-[-35px] top-[8px] flex w-[110px] rotate-45 transform justify-center bg-red-500 py-1 text-xs font-semibold text-white",children:e.jsx(M,{className:"h-4 w-4"})}),e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 pb-0",children:[e.jsxs("div",{className:"flex flex-row items-center space-x-2 text-xs font-bold uppercase text-slate-500",children:[e.jsx("div",{className:"rounded-sm border bg-slate-200/70 px-2 py-1",children:a.id<10?"Cod/0"+a.id:"Cod/"+a.id}),e.jsx("div",{className:"",children:a.type})]}),e.jsx(m,{variant:"ghost",size:"miniIcon",className:"hover:bg-transparent",children:e.jsx(he,{property:a,height:22})})]}),e.jsxs(re,{onClick:()=>f(`${I}/productos/${a.id}`),className:"space-y-2 rounded-sm p-4 hover:cursor-default",children:[e.jsx(ne,{className:"text-md text-slate-800",children:a.title}),e.jsx(oe,{className:"pb-1 text-sm",children:a.short_description}),e.jsx("div",{className:"flex flex-row text-slate-600",children:e.jsxs("div",{className:"flex flex-row items-center space-x-2",children:[e.jsx(ve,{className:"h-4 w-4",strokeWidth:"1.5"}),e.jsx("span",{className:"text-sm",children:`${a.street} - ${a.city}`})]})}),(S.getState().role===A.ADMIN||s==="client")&&e.jsx("div",{className:"text-slate-600",children:e.jsxs("div",{className:"flex flex-row items-center space-x-2",children:[e.jsx(F,{className:"h-4 w-4",strokeWidth:"1.5"}),e.jsx("span",{className:"text-sm",children:(t=a.user)==null?void 0:t.name})]})}),e.jsx("div",{className:"flex flex-row text-slate-600",children:e.jsxs("div",{className:"flex flex-row items-center space-x-2",children:[e.jsx($e,{className:"h-4 w-4",strokeWidth:"1.5"}),e.jsx("span",{className:"text-sm",children:u(a.created_at)})]})})]}),e.jsx(de,{className:"px-4 py-0 pb-4",children:e.jsxs("div",{className:"flex flex-row items-center justify-end space-x-4 text-sm font-semibold text-slate-700",children:[e.jsx("div",{className:"tracking-tight",children:g(a.business_type)}),e.jsx(ge,{value:a.price,locale:"es-AR",digits:0,className:""})]})})]}),e.jsxs(ce,{className:"mt-auto justify-between gap-2 bg-slate-100 p-2",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("div",{className:"flex h-4 w-4 items-center rounded-full border pl-1 "+(a.is_active?"border-emerald-400 bg-emerald-300":"border-slate-300/50 bg-input"),children:e.jsx("span",{className:"flex items-center pl-5 text-xs font-normal text-slate-400/70",children:a.is_active?"Activo":"Inactivo"})})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($,{children:e.jsxs(j,{children:[e.jsx(C,{asChild:!0,children:e.jsx(m,{onClick:()=>f(`${I}/productos/${a.id}`),variant:"ghost",size:"miniIcon",className:"rounded-full border bg-white text-slate-400/70 shadow-sm hover:bg-white hover:text-sky-400",children:e.jsx(we,{className:"h-4 w-4"})})}),e.jsx(N,{children:e.jsx("p",{children:"Ver detalle"})})]})}),s!=="client"&&e.jsx($,{children:e.jsxs(j,{children:[e.jsx(C,{asChild:!0,children:e.jsx(m,{onClick:()=>f(`${I}/productos/modificar/${a==null?void 0:a.id}`),variant:"ghost",size:"miniIcon",className:"rounded-full border bg-white text-slate-400/70 shadow-sm hover:bg-white hover:text-emerald-500",children:e.jsx(F,{className:"h-4 w-4"})})}),e.jsx(N,{children:e.jsx("p",{children:"Editar"})})]})}),a.deletedAt===null&&s!=="client"?e.jsx($,{children:e.jsxs(j,{children:[e.jsx(C,{asChild:!0,children:e.jsx(m,{onClick:()=>P(a,"removeSoft"),variant:"ghost",size:"miniIcon",className:"rounded-full border bg-white text-slate-400/70 shadow-sm hover:bg-white hover:text-rose-400",children:e.jsx(M,{className:"h-4 w-4"})})}),e.jsx(N,{children:e.jsx("p",{children:"Eliminar"})})]})}):s!=="client"&&e.jsx($,{children:e.jsxs(j,{children:[e.jsx(C,{asChild:!0,children:e.jsx(m,{onClick:()=>P(a,"restore"),variant:"ghost",size:"miniIcon",className:"rounded-full border bg-white text-slate-400/70 shadow-sm hover:bg-white hover:text-emerald-400",children:e.jsx(Ce,{className:"h-4 w-4"})})}),e.jsx(N,{children:e.jsx("p",{children:"Restaurar"})})]})}),S.getState().role===A.ADMIN&&s!=="client"&&e.jsx($,{children:e.jsxs(j,{children:[e.jsx(C,{asChild:!0,children:e.jsx(m,{onClick:()=>P(a,"remove"),variant:"outline",size:"miniIcon",className:"rounded-full border bg-white text-slate-400/70 shadow-sm hover:bg-white hover:text-rose-400",children:e.jsx(Ne,{className:"h-5 w-5",strokeWidth:"1.5"})})}),e.jsx(N,{children:e.jsx("p",{children:"Eliminar permanente"})})]})})]})]})]})},a.id)})}),e.jsx(le,{open:b,onOpenChange:i,children:e.jsxs(fe,{children:[e.jsxs(be,{children:[e.jsx(ue,{children:l.title}),e.jsx(me,{children:l.subtitle})]}),e.jsx("section",{className:"text-sm font-normal",children:l.message}),e.jsx(xe,{children:e.jsxs("div",{className:"mt-6 flex flex-row gap-4",children:[e.jsx(m,{variant:"ghost",onClick:()=>i(!1),children:"Cancelar"}),d==="removeSoft"&&e.jsx(m,{variant:"delete",onClick:()=>h(l.id),children:"Eliminar"}),d==="restore"&&e.jsx(m,{variant:"default",onClick:()=>K(l.id),children:"Restaurar"}),d==="remove"&&e.jsx(m,{variant:"delete",onClick:()=>U(l.id),children:"Eliminar"})]})})]})})]})}const aa={contentStatus:{admin:"Aún no hay propiedades creadas por los usuarios o por vos.",user:"No hay propiedades creadas por vos"},dialog:{impossibleRevertion:"Esta acción es posible de revertir por el administrador",possibleRevertion:"Esta acción es posible de revertir por el administrador",propertyDelete:"La propiedad va a ser eliminada permanentemente de la base de datos.",propertySoftDelete:"La propiedad va a ser eliminada de la base de datos.",propertyRestore:"La propiedad va a ser restaurada de la base de datos.",title:"¿Estás realmente seguro?"},filters:{byCreator:"Filtrar por creadores"},headers:["#","Tipo","Categoría","Título","Ciudad","Precio","Acciones"],noResults:"Sin resultados",pagination:{page:"Página",of:"de",rowsPerPage:"Filas por página"},search:"Buscar por ciudad"};export{ea as C,aa as P,Ye as T,Me as a,Fe as b,ye as c,Ve as d};
